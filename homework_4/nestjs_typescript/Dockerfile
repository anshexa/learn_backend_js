FROM node:18-alpine
# порт в докере
EXPOSE 5000
# задаем текущую рабочую директорию (внутри контейнера)
WORKDIR /app
# копируем в рабочую директорию /app
COPY package*.json ./
# выполняем скрипт, чтобы установить все зависимости (когда собирается образ)
RUN npm install
# копируем код из локального текущего проекта в рабочую директорию образа
COPY . .
COPY ./dist ./dist
# скрипт npm run start:dev (каждый раз, когда запускаем контейнер)
CMD [ "npm", "run", "start:dev" ]
